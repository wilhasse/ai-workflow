# Repository Guidelines

This dashboard is a Vite-powered React SPA that embeds an xterm.js client wired to tmux-session-service. Follow the practices below so changes stay predictable.

## Project Structure & Module Organization
- `src/` contains the runtime: `main.jsx` mounts React, `App.jsx` manages projects/terminals, `App.css` and `index.css` style the layout, and `assets/` stores static imagery.
- `public/` holds static files copied verbatim into the dev server; `index.html` injects the bundle entry.
- `dist/` is generated by `npm run build`. Never edit it directly—treat as disposable output.

## Build, Test, and Development Commands
- `npm install` ensures dependencies in `package.json` line up with the lockfile.
- `npm run dev` launches Vite with HMR at `http://localhost:5173`, ideal for iterating on `App.jsx` and CSS tweaks.
- `npm run build` creates the production bundle in `dist/`; use before deploying static assets.
- `npm run preview` serves the build output to verify it behaves the same as prod.
- `npm run lint` enforces the ESLint config (`eslint.config.js`) covering React hooks and Refresh rules.

## Coding Style & Naming Conventions
- Use modern ES modules with `const`/arrow functions, two-space indentation, and semicolonless formatting to match existing files.
- Components live in PascalCase files (`TerminalViewer.jsx` if you extract sections); hooks remain camelCase and start with `use`.
- Keep derived helpers (`buildTerminalSocketUrl`, `getTerminalBaseUrl`, `sanitizeHost`) colocated inside `src/App.jsx` unless shared elsewhere.
- Run `npm run lint` before committing; fix warnings rather than suppressing unless there is clear justification.

## Testing Guidelines
- No automated test harness ships with this repo yet; add Vitest and React Testing Library when introducing behavior that is risky to regress.
- Place tests under `src/__tests__/` mirroring component names (`App.test.jsx`) and favor descriptive `describe/it` blocks over numbered cases.
- Until tooling lands, smoke-test by running `npm run dev`, creating projects/terminals, and verifying that WebSocket sessions (`/ws/sessions/:id`) connect, resize correctly, and recover when reconnecting.

## Commit & Pull Request Guidelines
- The workspace currently lacks Git history, so use clear Conventional Commit-style subjects (e.g., `feat: add terminal bulk removal`) to keep future logs searchable.
- Each PR should describe the user-facing impact, reference related issues, and include screenshots or terminal recordings for UI changes.
- Call out testing evidence (`npm run lint`, manual browser checks) so reviewers can trust the change.
- Keep PRs small and focused: isolate refactors from feature work to make reviewing and rollback straightforward.

## Configuration & Security Tips
- Default protocol/host values auto-detect via `window.location` at module load; adjust the helper functions in `src/App.jsx` if you need different heuristics, and keep `DEFAULT_BASE_PORT` centralized rather than sprinkling literals.
- The terminal font-size selector in the header pulls options from `FONT_SIZE_OPTIONS`; edit that constant (and `DEFAULT_FONT_SIZE`) if you want different values, and remember it persists via `localStorage`.
- Project view preference (dropdown vs. tabs) persists via `PROJECT_VIEW_MODE_STORAGE_KEY`; the toggle button lives beside the header settings icon, so adjust `PROJECT_VIEW_MODES` or `.project-view-toggle` in `App.css` if you redesign it.
- `sanitizeHost` strips protocols—reuse it before persisting user input to avoid malformed URLs.
- Never hard-code credentials inside the repo; store sensitive links in environment-specific deployment configs instead of `localStorage` seeds.
